(this["webpackJsonpmafia-frontend"]=this["webpackJsonpmafia-frontend"]||[]).push([[0],{100:function(e,a,i){},101:function(e,a,i){},102:function(e,a,i){},104:function(e,a,i){"use strict";i.r(a);var n=i(1),t=i.n(n),c=i(47),r=i.n(c),s=(i(56),i(3)),o=i(21),d=i(2),j=i(48),l=(i(87),i(0)),u=function(e){var a=e.socket,i=e.setIsGameOn,t=e.isGameOn,c=e.prevUser,r=e.setPrevUser,o=Object(n.useState)(""),j=Object(s.a)(o,2),u=j[0],m=j[1],y=Object(n.useState)(""),h=Object(s.a)(y,2),f=h[0],b=h[1],p=Object(n.useState)(null),g=Object(s.a)(p,2),O=g[0],z=g[1],k=Object(n.useState)(""),x=Object(s.a)(k,2),v=x[0],w=x[1],D=Object(d.f)();Object(n.useEffect)((function(){t&&(a.emit("turnHomePage",c),r(""))}),[]);return Object(l.jsxs)("div",{className:"homeContainer",children:[Object(l.jsx)("h1",{children:"Witaj w Mafia Online!"}),Object(l.jsx)("form",{onSubmit:function(e){if(e.preventDefault(),!u||!f)return w("Podaj nazw\u0119 u\u017cytkownika i nazw\u0119 pokoju");a.emit("getUsersInRoom",f,(function(e){if(e.some((function(e){return e.name===u})))return w("Nazwa u\u017cytkownika zaj\u0119ta: podaj inn\u0105 nazw\u0119 u\u017cytkownika");a.emit("getManager",f,(function(e){if(!e)return i(!0),D.push("/game",{name:u,room:f,image:O}),w("\u0141adowanie..."),m(""),b(""),void z(void 0);w("W pokoju trwa gra: wybierz inn\u0105 nazw\u0119 pokoju")}))}))},className:"pure-form pure-form-stacked",children:Object(l.jsxs)("fieldset",{children:[Object(l.jsx)("label",{for:"nameInput",children:"Nazwa u\u017cytkownika:"}),Object(l.jsx)("input",{type:"text",id:"nameInput",onChange:function(e){return m(e.target.value)}}),Object(l.jsx)("label",{for:"roomInput",children:"Nazwa pokoju:"}),Object(l.jsx)("input",{type:"text",onChange:function(e){return b(e.target.value)},id:"roomInput"}),Object(l.jsxs)("div",{className:O?"pure-g imageLabel":"imageLabel",children:[Object(l.jsx)("label",{for:"imageInput",className:O&&"pure-u-2-3",children:"Awatar (opcjonalnie): \ud83d\udcc1"}),O&&Object(l.jsx)("img",{className:"pure-u-1-3 imagePlayer",alt:"User image",src:O,style:{width:"60px",height:"60px",objectFit:"cover"}})]}),Object(l.jsx)("input",{type:"file",size:"20",id:"imageInput",onChange:function(e){var a=e.target.files[0];e.target.files&&a&&z(URL.createObjectURL(a))}}),Object(l.jsx)("input",{type:"submit",value:"OK",className:"pure-button"}),v&&Object(l.jsx)("p",{className:"pure-form-message",children:v})]})})]})},m=i(50),y=i.n(m),h={PLO:"Zerowej nocy poznaj\u0119 posta\u0107 dowolnie wybranego gracza.",amorek:"Zerowej nocy \u0142\u0105czy dw\xf3ch dowolnie wybranych graczy. Je\u015bli jeden z nich straci \u017cycie, to drugi r\xf3wnie\u017c umiera .","s\u0119dzia":"Decyduje, czy wyra\u017ca zgod\u0119 na pojedynek (czy dany pojedynek si\u0119 odb\u0119dzie). Je\u015bli S\u0119dzia nie \u017cyje, zawsze jest zgoda na pojedynek.",wariat:"W trakcie dnia mo\u017ce jedne raz zabi\u0107 dowolnego gracza.",komisarzCattani:"Ka\u017cdej niezerowej nocy poznaje prawdziw\u0105 frakcj\u0119 wybranego przez siebie frakcj\u0119.",lekarz:"Ka\u017cdej niezerowej nocy wybiera gracza, kt\xf3rego b\u0119dzie leczy\u0107, czyli chroni\u0107 przed strza\u0142em Mafii. Raz na gr\u0119 mo\u017ce uleczy\u0107 samego siebie.",szybkiZMiasta:"Wygrywa pojedynki bez wzgl\u0119du na wynik g\u0142osowania (wyj\u0105tkiem jest sytuacja, kiedy wszyscy wstrzymuj\u0105 si\u0119 od g\u0142osu i nikt nie umiera oraz pojedynek z Szybkim z Mafii, w kt\xf3rym liczy si\u0119 wynik g\u0142osowania).",szybkiZMafii:"Wygrywa pojedynki bez wzgl\u0119du na wynik g\u0142osowania (wyj\u0105tkiem jest sytuacja, kiedy wszyscy wstrzymuj\u0105 si\u0119 od g\u0142osu i nikt nie umiera oraz pojedynek z Szybkim z Miasta, w kt\xf3rym liczy si\u0119 wynik g\u0142osowania). Hierarchia w Mafii - 3.","\u015bwi\u0119ty":"Je\u015bli zginie w wyniku g\u0142osowania, umiera ka\u017cdy, kto zag\u0142osowa\u0142 na jego \u015bmier\u0107.",kokietka:"Kokietka - w g\u0142osowaniu na koniec dnia jest sprawdzana jako Miasto. Hierarchia w Mafii - 1 (najwy\u017csza).",terrorysta:"Umieraj\u0105c, wybucha w nast\u0119pnego gracza na li\u015bcie, kt\xf3ry umiera razem z nim. Hierarchia w Mafii - 2.","m\u015bciciel":"Wy\u0142\u0105cza funkcj\u0119 dowolnego gracza na nast\u0119pny dzie\u0144 i nast\u0119pn\u0105 noc. Hierarchia w Mafii - 4 (najni\u017csza)."},f=(i(94),function(e){var a=e.users,i=e.socket,t=e.user,c=e.setGameManager,r=Object(n.useState)([]),o=Object(s.a)(r,2),d=o[0],j=o[1],u=Object(n.useState)([]),m=Object(s.a)(u,2),y=m[0],f=m[1],b=["Kokietka","Terrorysta","Szybki z Mafii","M\u015bciciel"],p=["Szybki z Miasta","PLO","Komisarz Cattani","Lekarz","S\u0119dzia","\u015awi\u0119ty","Wariat","Amorek"];Object(n.useEffect)((function(){i.on("changeCharacters",(function(e){j(e)})),i.on("newGame",(function(e){c(e)}))}),[]);var g=function(e){t.isAdmin&&i.emit("chooseCharacter",{name:e.target.name,user:t})},O=function(){f(void 0)},z=a.map((function(e){return Object(l.jsxs)("li",{style:e.isAdmin?{color:"red"}:{color:"black"},className:"usersListImage",children:[e.image&&Object(l.jsx)("img",{src:e.image,alt:"User image",style:{width:"60px",height:"60px",objectFit:"cover"},className:"imagePlayer"}),!e.image&&Object(l.jsx)("div",{className:"emptyImage"}),Object(l.jsx)("p",{children:e.name})]},e.id)})),k=function(e){switch(e){case"PLO":return h.PLO;case"Lekarz":return h.lekarz;case"Komisarz Cattani":return h.komisarzCattani;case"\u015awi\u0119ty":return h.\u015bwi\u0119ty;case"Szybki z Miasta":return h.szybkiZMiasta;case"Wariat":return h.wariat;case"M\u015bciciel":return h.m\u015bciciel;case"Szybki z Mafii":return h.szybkiZMafii;case"S\u0119dzia":return h.s\u0119dzia;case"Amorek":return h.amorek;case"Kokietka":return h.kokietka;case"Terrorysta":return h.terrorysta;default:return""}},x=function(e){return e.map((function(e){return Object(l.jsxs)("li",{className:"characterItemContainer",onMouseOver:function(){f(e)},onMouseOut:O,children:[Object(l.jsxs)("label",{htmlFor:e,className:"characterItem",style:y===e?{backgroundColor:"whiteSmoke"}:{backgroundColor:"white"},children:[t.isAdmin&&Object(l.jsx)("input",{type:"checkbox",id:e,name:e,onChange:g,checked:d.some((function(a){return a.name===e}))}),Object(l.jsx)("span",{style:d.some((function(a){return a.name===e}))?{fontWeight:"bold"}:null,children:e})]}),Object(l.jsx)("div",{className:"characterItemDescription",style:y===e?{display:"block"}:{display:"none"},children:k(e)})]},e)}))};return Object(l.jsxs)("div",{className:"pure-g settingsContainer",children:[Object(l.jsxs)("h1",{className:"pure-u-1",children:["Pok\xf3j ",t.room]}),Object(l.jsxs)("div",{className:"pure-u-1-2 settingsColumn settingsLeftColumn",children:[Object(l.jsx)("h1",{children:"Gracze"}),Object(l.jsx)("ul",{children:z})]}),Object(l.jsxs)("div",{className:"pure-u-1-2 settingsColumn",children:[Object(l.jsx)("h1",{children:"Postaci"}),Object(l.jsx)("h2",{children:"Miasto"}),Object(l.jsx)("ul",{className:"charactersList",children:x(p)}),Object(l.jsx)("h2",{children:"Mafia"}),Object(l.jsx)("ul",{className:"charactersList",children:x(b)})]}),Object(l.jsx)("div",{className:"pure-u-1",children:Object(l.jsx)("input",{type:"button",value:"Rozpocznij gr\u0119",disabled:function(){var e=a.length===d.length,i=t.isAdmin,n=d.some((function(e){return b.includes(e.name)})),c=d.some((function(e){return p.includes(e.name)}));return!e||!i||!c||!n}(),onClick:function(){i.emit("startGame",{room:t.room,characters:d,users:a})},className:"pure-button myButton"})})]})}),b=(i(95),function(e){var a,i=e.gameManager,n=e.player;return Object(l.jsxs)("div",{className:"container notificationsContainer",children:[Object(l.jsx)("h2",{children:"Powiadomienia"}),Object(l.jsx)("ul",{className:"notifications",children:(a=i.notifications,a.map((function(e,a){if(e.to.includes(n.character.name))return Object(l.jsx)("li",{children:e.text},a)})))})]})}),p=i(51),g=(i(96),function(e){var a=e.gameManager,i=e.player,t=e.socket,c=e.amorekChoices,r=e.setAmorekChoices,o=Object(n.useState)([]),d=Object(s.a)(o,2),j=d[0],u=d[1],m=function(){u(void 0)},y=function(e,a,i){t.emit("endDayVotingOffer",e,a,i)},h=function(e,a){t.emit("endDaySecondOffer",e,i,a)},f=function(e){t.emit("heal",e,i)},b=a.players.map((function(e){return Object(l.jsxs)("li",{style:e.isAlive?null:{color:"lightGray"},onMouseOver:function(){return function(e){u(e)}(e.name)},onMouseOut:m,children:[Object(l.jsxs)("div",{className:"usersListImage userMenuTop",children:[!e.image&&Object(l.jsx)("div",{className:"emptyImage"}),e.image&&Object(l.jsx)("img",{src:e.image,alt:"User",className:"imagePlayer",style:{width:"60px",height:"60px",objectFit:"cover"}}),Object(l.jsxs)("p",{style:e.id===i.id?{fontWeight:"bold",textDecoration:"underline"}:null,children:[e.id===i.id?"Ja (".concat(e.character.name,")"):e.name," ","Mafia"===i.fraction&&"Mafia"===e.fraction&&e.id!==i.id&&"(".concat(e.character.name,")")]})]}),e.isAlive&&"day"===a.phase&&i.isAlive&&Object(l.jsxs)("ul",{style:j===e.name?{display:"block"}:{display:"none"},className:"usersBottomMenu",children:[i.id!==e.id&&!a.duel.offeredBy&&!a.duel.finished&&!a.endDayVoting.offeredBy&&Object(l.jsx)("li",{onClick:function(){return a=e,void t.emit("offerDuel",a,i);var a},children:"Wyzwij na pojedynek"}),!a.endDayVoting.offeredBy&&!a.duel.offeredBy&&Object(l.jsx)("li",{onClick:function(){return y("check",i,e)},children:"Zaproponuj sprawdzenie"}),!a.endDayVoting.offeredBy&&!a.duel.offeredBy&&Object(l.jsx)("li",{onClick:function(){return y("kill",i,e)},children:"Zaproponuj zabicie"}),a.endDayVoting.accepted&&a.endDayVoting.offers[0].id===i.id&&1===a.endDayVoting.offers.length&&e.id!==i.id&&Object(l.jsx)("li",{onClick:function(){return h("check",e)},children:"Wybierz jako kontropropozycj\u0119 - sprawdzenie"}),a.endDayVoting.accepted&&a.endDayVoting.offers[0].id===i.id&&1===a.endDayVoting.offers.length&&e.id!==i.id&&Object(l.jsx)("li",{onClick:function(){return h("kill",e)},children:"Wybierz jako kontropropozycj\u0119 - zabicie"}),"Wariat"===i.character.name&&i.id!==e.id&&!a.endDayVoting.offeredBy&&!a.hasWariatActed&&"Wariat"!==a.m\u015bcicielChoice&&Object(l.jsx)("li",{onClick:function(){return function(e){t.emit("wariatKill",e)}(e)},children:"Zabij w szale"})]}),e.isAlive&&"night"===a.phase&&i.isAlive&&Object(l.jsxs)("ul",{style:j===e.name?{display:"block"}:{display:"none"},className:"usersBottomMenu",children:["Mafia"===i.fraction&&0!==a.currentDay&&!a.mafiaVoting.chosenPlayer&&Object(l.jsx)("li",{onClick:function(){return a=e,void t.emit("suggestShot",a,i);var a},children:"Zaproponuj strza\u0142"}),i.character.name===a.mafiaLeader&&0!==a.currentDay&&!a.mafiaVoting.chosenPlayer&&Object(l.jsx)("li",{onClick:function(){return a=e,void t.emit("shoot",a,i);var a},children:"Oddaj strza\u0142"}),"Lekarz"===i.character.name&&0!==a.currentDay&&!a.healedByLekarz&&e.id!==i.id&&"Lekarz"!==a.prevM\u015bcicielChoice&&Object(l.jsx)("li",{onClick:function(){return f(e)},children:"Ulecz"}),"Lekarz"===i.character.name&&0!==a.currentDay&&!a.healedByLekarz&&e.id===i.id&&!a.hasLekarzHealedHimself&&"Lekarz"!==a.prevM\u015bcicielChoice&&Object(l.jsx)("li",{onClick:function(){return f(e)},children:"Ulecz"}),"Komisarz Cattani"===i.character.name&&i.id!==e.id&&0!==a.currentDay&&!a.hasCattaniActed&&"Komisarz Cattani"!==a.prevM\u015bcicielChoice&&Object(l.jsx)("li",{onClick:function(){return a=e,void t.emit("cattaniCheck",a,i);var a},children:"Sprawd\u017a frakcj\u0119"}),"PLO"===i.character.name&&i.id!==e.id&&0===a.currentDay&&!a.hasPLOActed&&Object(l.jsx)("li",{onClick:function(){return a=e,void t.emit("PLOCheck",a);var a},children:"Sprawd\u017a posta\u0107"}),"M\u015bciciel"===i.character.name&&0!==a.currentDay&&!a.m\u015bcicielChoice&&a.mafiaVoting.chosenPlayer&&"M\u015bciciel"!==e.character.name&&e.character.name!==a.prevM\u015bcicielChoice&&"Mafia"!==e.fraction&&Object(l.jsx)("li",{onClick:function(){return a=e,void t.emit("m\u015bcicielTurnOffFunction",a,i);var a},children:"Wy\u0142\u0105cz funkcj\u0119"}),"Amorek"===i.character.name&&0===a.currentDay&&!a.hasAmorekActed&&Object(l.jsxs)("li",{children:["Po\u0142\u0105cz w\u0119z\u0142ami mi\u0142o\u015bci"," ",Object(l.jsx)("input",{type:"checkbox",checked:!!c.find((function(a){return a.id===e.id})),onChange:function(){return function(e){if(c.find((function(a){return a.id===e.id})))return r(c.filter((function(a){return a.id!==e.id})));if(c.length<2){var a=[].concat(Object(p.a)(c),[e]);return r(a)}}(e)}})]})]})]},e.id)}));return Object(l.jsx)("div",{className:"playersContainer",children:Object(l.jsx)("ul",{children:b})})}),O=(i(97),function(e){var a=e.gameManager,i=e.player,n=a.characters.map((function(e,a){return Object(l.jsx)("li",{children:e},a)}));return Object(l.jsxs)("div",{className:"container informationContainer",children:[Object(l.jsx)("h2",{children:"Informacje"}),Object(l.jsxs)("div",{className:"informationList",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"M\xf3j nick"}),Object(l.jsx)("p",{children:i.name})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Moja posta\u0107"}),Object(l.jsx)("p",{children:i.character.name})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Moja frakcja"}),Object(l.jsx)("p",{children:i.fraction})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Pok\xf3j"}),Object(l.jsx)("p",{children:i.room})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("h3",{children:"Doba i faza"}),Object(l.jsxs)("p",{children:["day"===a.phase?"Dzie\u0144":"Noc"," nr"," ",a.currentDay]})]}),Object(l.jsxs)("div",{children:[" ",Object(l.jsx)("h3",{children:"Wszystkie postaci"}),Object(l.jsx)("ul",{children:n})]})]})]})}),z=(i(98),function(e){var a=e.gameManager,i=e.player,n=e.amorekChoices,t=e.setAmorekChoices,c=e.socket,r=function(e){c.emit("decisionEndDayOffer",i,e)},s=function(e,a,i){c.emit("voteEndOfDay",e,a,i)},o=function(e){c.emit("s\u0119dziaDecision",e,i)},d=function(e){c.emit("duelVote",i,e)},j=function(){return a.players.filter((function(e){return e.isAlive&&"Mafia"===e.fraction})).map((function(e){var n=a.mafiaVoting.votes.find((function(a){return a[0].id===e.id}));return Object(l.jsxs)("li",{children:[e.id===i.id?"Ty":e.name,":"," ",n?n[1].name:"brak"]},e.id)}))};return Object(l.jsxs)("div",{className:"container ordersContainer",children:[Object(l.jsx)("h2",{children:"Polecenia"}),Object(l.jsxs)("div",{className:"ordersList",children:["night"===a.phase&&"Mafia"===i.fraction&&0!==a.currentDay&&i.isAlive&&i.character.name!==a.mafiaLeader&&!a.mafiaVoting.chosenPlayer&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Zasugeruj, w kogo Mafia powinna odda\u0107 strza\u0142"}),Object(l.jsx)("p",{children:"Oddane g\u0142osy:"}),Object(l.jsx)("ul",{children:j()})]}),"night"===a.phase&&i.character.name===a.mafiaLeader&&0!==a.currentDay&&i.isAlive&&!a.mafiaVoting.chosenPlayer&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Zasugeruj, w kogo Mafia powinna odda\u0107 strza\u0142 i oddaj strza\u0142"}),Object(l.jsx)("p",{children:"Oddane g\u0142osy:"}),Object(l.jsx)("ul",{children:j()})]}),"night"===a.phase&&"M\u015bciciel"===i.character.name&&0!==a.currentDay&&!a.m\u015bcicielChoice&&i.isAlive&&a.mafiaVoting.chosenPlayer&&Object(l.jsx)("p",{children:"Podejmij decyzj\u0119, kogo funkcj\u0119 chcesz wy\u0142\u0105czy\u0107"}),"night"===a.phase&&"Komisarz Cattani"===i.character.name&&0!==a.currentDay&&!a.hasCattaniActed&&i.isAlive&&"Komisarz Cattani"!==a.prevM\u015bcicielChoice&&Object(l.jsx)("p",{children:"Podejmij decyzj\u0119, kogo frakcj\u0119 chcesz sprawdzi\u0107"}),"night"===a.phase&&"Lekarz"===i.character.name&&0!==a.currentDay&&!a.healedByLekarz&&i.isAlive&&"Lekarz"!==a.prevM\u015bcicielChoice&&Object(l.jsx)("p",{children:"Podejmij decyzj\u0119, kogo chcesz uleczy\u0107"}),"night"===a.phase&&"PLO"===i.character.name&&0===a.currentDay&&!a.hasPLOActed&&i.isAlive&&Object(l.jsx)("p",{children:"Podejmij decyzj\u0119, posta\u0107 kt\xf3rego gracza chcesz sprawdzi\u0107"}),"night"===a.phase&&"Amorek"===i.character.name&&0===a.currentDay&&!a.hasAmorekActed&&i.isAlive&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Podejmij decyzj\u0119, kt\xf3rych dw\xf3ch graczy chcesz po\u0142\u0105czy\u0107 wi\u0119zami mi\u0142o\u015bci"}),"(",Object(l.jsx)("div",{children:Object(l.jsx)("input",{type:"button",value:"Po\u0142\u0105cz",onClick:function(){2===n.length&&(c.emit("amorekBind",n,i),t([]))},className:"pure-button",disabled:2!==n.length})}),")"]}),"day"===a.phase&&a.endDayVoting.offeredBy&&a.endDayVoting.offeredBy.id!==i.id&&i.isAlive&&!a.endDayVoting.accepted&&!a.endDayVoting.agreements.some((function(e){return e[0].id===i.id}))&&Object(l.jsxs)("p",{children:["Czy wyra\u017casz zgod\u0119, aby pierwsz\u0105 propozycj\u0105 na"," ","kill"===a.endDayVoting.type?"zabicie":"sprawdzenie"," ","by\u0142 nast\u0119puj\u0105cy gracz:"," ",a.endDayVoting.offers[0].id===i.id?"ty":a.endDayVoting.offers[0].name,"? (",Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"button",value:"Tak",className:"pure-button",onClick:function(){return r(!0)}}),Object(l.jsx)("input",{type:"button",className:"pure-button",value:"Nie",onClick:function(){return r(!1)}})]}),")"]}),"day"===a.phase&&a.endDayVoting.offeredBy&&a.endDayVoting.offeredBy.id!==i.id&&i.isAlive&&!a.endDayVoting.accepted&&a.endDayVoting.agreements.some((function(e){return e[0].id===i.id}))&&Object(l.jsxs)("p",{children:["Poczekaj, a\u017c inni gracze podejm\u0105 decyzj\u0119, czy wyra\u017caj\u0105 zgod\u0119,"," ",a.endDayVoting.offers[0].id===i.id?"aby\u015b":"aby gracz ".concat(a.endDayVoting.offers[0].name)," ","by\u0142 pierwsz\u0105 propozycj\u0105 na"," ","kill"===a.endDayVoting.type?"zabicie":"sprawdzenie"]}),"day"===a.phase&&a.endDayVoting.offeredBy&&a.endDayVoting.offeredBy.id===i.id&&i.isAlive&&!a.endDayVoting.accepted&&Object(l.jsxs)("p",{children:["Zaproponowa\u0142e\u015b"," ","kill"===a.endDayVoting.type?"zabicie":"sprawdzenie"," ",a.endDayVoting.offers[0].id===i.id?"ciebie":"gracza ".concat(a.endDayVoting.offers[0].name),": poczekaj, a\u017c inni gracze wyra\u017c\u0105 zgod\u0119 albo odrzuc\u0105 Twoj\u0105 propozycj\u0119"]}),"day"===a.phase&&a.endDayVoting.accepted&&a.endDayVoting.offers[0].id===i.id&&i.isAlive&&1===a.endDayVoting.offers.length&&Object(l.jsxs)("p",{children:["Propozycja"," ","kill"===a.endDayVoting.type?"zabicia":"sprawdzenia"," ","ciebie zosta\u0142a przyj\u0119ta: wybierz kontrpropozycj\u0119"]}),"day"===a.phase&&a.endDayVoting.accepted&&a.endDayVoting.offers[0].id!==i.id&&i.isAlive&&1===a.endDayVoting.offers.length&&Object(l.jsxs)("p",{children:["Czekaj: ",a.endDayVoting.offers[0].name," wybiera kontrpropozycj\u0119"]}),"day"===a.phase&&a.endDayVoting.accepted&&i.isAlive&&2===a.endDayVoting.offers.length&&!a.endDayVoting.votes.some((function(e){return e[0].id===i.id}))&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Zag\u0142osuj:"}),"(",Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"button",className:"pure-button",value:"".concat("kill"===a.endDayVoting.type?"Zabicie":"Sprawdzenie"," ").concat(a.endDayVoting.offers[0].id===i.id?"ciebie":"gracza ".concat(a.endDayVoting.offers[0].name)),onClick:function(){return s(i,a.endDayVoting.offers[0],a.endDayVoting.type)}}),Object(l.jsx)("input",{type:"button",className:"pure-button",value:"".concat("kill"===a.endDayVoting.type2?"Zabicie":"Sprawdzenie"," ").concat(a.endDayVoting.offers[1].id===i.id?"ciebie":"gracza ".concat(a.endDayVoting.offers[1].name)),onClick:function(){return s(i,a.endDayVoting.offers[1],a.endDayVoting.type2)}})]}),")"]}),"day"===a.phase&&a.endDayVoting.accepted&&i.isAlive&&2===a.endDayVoting.offers.length&&a.endDayVoting.votes.some((function(e){return e[0].id===i.id}))&&Object(l.jsx)("p",{children:"Poczekaj, a\u017c inni gracze oddadz\u0105 sw\xf3j g\u0142os."}),"day"===a.phase&&a.duel.offeredBy&&i.isAlive&&!a.duel.accepted&&"S\u0119dzia"!==i.character.name&&Object(l.jsx)("p",{children:"Pad\u0142o wyzwanie na pojedynek: poczekaj, a\u017c S\u0119dzia zadecyduje, czy wyra\u017ca na niego zgod\u0119"}),"day"===a.phase&&a.duel.offeredBy&&i.isAlive&&!a.duel.accepted&&"S\u0119dzia"===i.character.name&&"S\u0119dzia"!==a.m\u015bcicielChoice&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("p",{children:["Czy wyra\u017casz zgod\u0119 na pojedynek mi\u0119dzy graczami:"," ",a.duel.offeredBy.id===i.id?"ty":a.duel.offeredBy.name," ","i"," ",a.duel.offer.id===i.id?"ty":a.duel.offer.name,"?"]}),"(",Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"button",className:"pure-button",value:"Tak",onClick:function(){return o(!0)}}),Object(l.jsx)("input",{type:"button",className:"pure-button",value:"Nie",onClick:function(){return o(!1)}})]}),")}"]}),"day"===a.phase&&i.isAlive&&a.duel.accepted&&i.id!==a.duel.offeredBy.id&&i.id!==a.duel.offer.id&&!a.duel.votes.some((function(e){return e[0].id===i.id}))&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Trwa pojedynek: podejmij decyzj\u0119, na kogo \u015bmier\u0107 g\u0142osujesz albo wstrzymaj si\u0119 od g\u0142osu"}),"(",Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"button",className:"pure-button",value:"\u015amier\u0107 gracza ".concat(a.duel.offeredBy.name),onClick:function(){return d(a.duel.offeredBy)}}),Object(l.jsx)("input",{type:"button",className:"pure-button",value:"\u015amier\u0107 gracza ".concat(a.duel.offer.name),onClick:function(){return d(a.duel.offer)}}),Object(l.jsx)("input",{type:"button",className:"pure-button",value:"Wstrzymaj si\u0119 od g\u0142osu",onClick:function(){return d("noVote")}})]}),")"]}),"day"===a.phase&&i.isAlive&&a.duel.accepted&&(i.id===a.duel.offeredBy.id||i.id===a.duel.offer.id)&&Object(l.jsx)("p",{children:"Trwa pojedynek, w kt\xf3rym uczestniczysz: poczekaj, a\u017c wszyscy gracze oddadz\u0105 g\u0142os"}),"day"===a.phase&&i.isAlive&&a.duel.accepted&&i.id!==a.duel.offeredBy.id&&i.id!==a.duel.offer.id&&a.duel.votes.some((function(e){return e[0].id===i.id}))&&Object(l.jsx)("p",{children:"Poczekaj, a\u017c inni gracze zadecyduj\u0105, na kogo oddaj\u0105 sw\xf3j g\u0142os"})]})]})}),k=(i(99),function(e){e.gameManager,e.player;var a=Object(n.useState)(""),i=Object(s.a)(a,2),t=i[0],c=i[1];return Object(l.jsxs)("div",{className:"container chatContainer pure-form",children:[Object(l.jsx)("div",{className:"chat",children:Object(l.jsx)("ul",{children:Object(l.jsx)("li",{children:"Tutaj kiedy\u015b b\u0119dzie chat"})})}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(t),c("")},children:[Object(l.jsx)("input",{type:"text",onChange:function(e){c(e.target.value)},value:t}),Object(l.jsx)("input",{type:"submit",value:"\u27a3",className:"pure-button"})]})]})}),x=(i(100),function(e){var a=e.gameManager,i=e.player,n=a.players.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsxs)("p",{children:[e.id===i.id?"Ty":"".concat(e.name),": ",e.character.name," ","(",e.fraction,")"]}),e.image&&Object(l.jsx)("img",{src:e.image,alt:"User image",style:{width:"60px",height:"60px",objectFit:"cover"}})]},e.id)}));return Object(l.jsx)("div",{className:"pure-u-1-2",children:Object(l.jsxs)("div",{className:"gameOverContainer",children:[Object(l.jsx)("h1",{children:"Koniec gry"}),Object(l.jsxs)("h2",{children:["Wygra\u0142a frakcja ",Object(l.jsx)("span",{style:{textDecoration:"underline"},children:a.winningFraction})]}),Object(l.jsx)("ul",{children:n})]})})}),v=(i(101),function(e){var a=e.socket,i=e.user,t=e.gameManager,c=e.isWaitingForRes,r=e.setIsWaitingForRes,o=t.players.find((function(e){return e.id===i.id}))||{},d=Object(n.useState)([]),j=Object(s.a)(d,2),u=j[0],m=j[1];return Object(l.jsxs)("div",{style:"night"===t.phase?{backgroundColor:"#181818",color:"white"}:{backgroundColor:"white",color:"black"},className:"pure-g gameContainer",children:[t.isGameOver?Object(l.jsx)(x,{gameManager:t,player:i}):Object(l.jsx)("div",{className:"pure-u-1-2",children:Object(l.jsxs)("div",{className:"leftSideGame",children:[Object(l.jsx)(z,{gameManager:t,player:o,amorekChoices:u,setAmorekChoices:m,socket:a,isWaitingForRes:c,setIsWaitingForRes:r}),Object(l.jsx)(g,{gameManager:t,player:o,socket:a,amorekChoices:u,setAmorekChoices:m,isWaitingForRes:c,setIsWaitingForRes:r})]})}),Object(l.jsx)("div",{className:"pure-u-1-2",children:Object(l.jsxs)("div",{className:"rightSideGame",children:[Object(l.jsx)(b,{gameManager:t,player:o}),Object(l.jsx)(k,{gameManager:t,player:o}),Object(l.jsx)(O,{gameManager:t,player:o})]})})]})}),w=function(e){var a=e.socket,i=e.setPrevUser,t=Object(d.g)(),c=t.state.name,r=t.state.room,o=t.state.image,j=Object(n.useState)([]),u=Object(s.a)(j,2),m=u[0],h=u[1],b=Object(n.useState)({}),p=Object(s.a)(b,2),g=p[0],O=p[1],z=Object(n.useState)({}),k=Object(s.a)(z,2),x=k[0],w=k[1];return Object(n.useEffect)((function(){a.emit("join",{name:c,room:r,image:o},(function(e){e&&console.log(e)}))}),[c,r]),Object(n.useEffect)((function(){a.on("roomData",(function(e){var a=e.users,n=e.manager,t=a.find((function(e){return e.name===c}));h(a),O(t),w(n||{}),i(t)}))}),[]),Object(l.jsx)(l.Fragment,{children:y.a.isEmpty(x)?Object(l.jsx)(f,{users:m,socket:a,user:g,gameManager:x,setGameManager:w}):Object(l.jsx)(v,{socket:a,user:g,gameManager:x})})};i(102);var D=function(){var e=Object(j.io)("https://mafia-socket-backend.herokuapp.com/"),a=Object(n.useState)(!1),i=Object(s.a)(a,2),t=i[0],c=i[1],r=Object(n.useState)(""),m=Object(s.a)(r,2),y=m[0],h=m[1];return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d.b,{exact:!0,path:"/",children:Object(l.jsx)(u,{socket:e,setIsGameOn:c,isGameOn:t,prevUser:y,setPrevUser:h})}),Object(l.jsx)(d.b,{exact:!0,path:"/game",children:t?Object(l.jsx)(w,{socket:e,setPrevUser:h}):Object(l.jsx)(d.a,{to:"/"})})]})},C=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,105)).then((function(a){var i=a.getCLS,n=a.getFID,t=a.getFCP,c=a.getLCP,r=a.getTTFB;i(e),n(e),t(e),c(e),r(e)}))};i(103);r.a.render(Object(l.jsx)(t.a.StrictMode,{children:Object(l.jsx)(D,{})}),document.getElementById("root")),C()},56:function(e,a,i){},87:function(e,a,i){},94:function(e,a,i){},95:function(e,a,i){},96:function(e,a,i){},97:function(e,a,i){},98:function(e,a,i){},99:function(e,a,i){}},[[104,1,2]]]);
//# sourceMappingURL=main.0e22383f.chunk.js.map